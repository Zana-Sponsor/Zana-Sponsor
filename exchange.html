    async function processOrder() {
        const fromVal = document.getElementById('from').value;
        const toVal = document.getElementById('to').value;
        const amtVal = document.getElementById('amt').value;
        const totalVal = document.getElementById('total').innerText;
        const phoneVal = document.getElementById('userPhone').value;
        const imgFile = document.getElementById('imageInput').files[0];
        const btn = document.getElementById('submitBtn');

        if(!amtVal || !phoneVal || !imgFile) return alert("ØªÚ©Ø§ÛŒÛ• Ù‡Û•Ù…ÙˆÙˆ Ø®Ø§Ù†Û•Ú©Ø§Ù† Ù¾Ú• Ø¨Ú©Û•Ø±Û•ÙˆÛ•");

        btn.innerText = "Ø®Û•Ø±ÛŒÚ©ÛŒ Ù†Ø§Ø±Ø¯Ù†Û•...";
        btn.disabled = true;

        const dateTime = new Date().toLocaleString('ku-IQ');
        const captionText = `ğŸ†• Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ Ù†ÙˆÛ\n\nğŸ”„ Ú¯Û†Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ: ${fromVal} Ø¨Û† ${toVal}\nğŸ’µ Ø¨Ú•ÛŒ Ù†Ø§Ø±Ø¯Ø±Ø§Ùˆ: ${parseInt(amtVal).toLocaleString()} Ø¯ÛŒÙ†Ø§Ø±\nğŸ’° Ø¨Ú•ÛŒ ÙˆÛ•Ø±Ú¯Ø±ØªÙ†: ${totalVal}\nğŸ“± Ú˜Ù…Ø§Ø±Û•ÛŒ ÙˆÛ•Ø±Ú¯Ø±: ${phoneVal}\nğŸ“… Ú©Ø§Øª: ${dateTime}`;

        const formData = new FormData();
        formData.append("chat_id", CHAT_ID);
        formData.append("photo", imgFile);
        formData.append("caption", captionText);

        try {
            // Ù†Ø§Ø±Ø¯Ù† Ø¨Û† ØªÛÙ„ÛŒÚ¯Ø±Ø§Ù…
            const response = await fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendPhoto`, { 
                method: "POST", 
                body: formData 
            });

            if (response.ok) {
                // Ù¾Ø§Ø´Û•Ú©Û•ÙˆØªÚ©Ø±Ø¯Ù† Ù„Û• Ù…ÛÚ˜ÙˆÙˆ Ù¾ÛØ´ Ù¾Ø§Ú©Ú©Ø±Ø¯Ù†Û•ÙˆÛ•
                saveHistory(fromVal, toVal, amtVal);

                // Ø¦Ø§Ù…Ø§Ø¯Û•Ú©Ø±Ø¯Ù†ÛŒ Ù„ÛŒÙ†Ú©ÛŒ ÙˆØ§ØªØ³Ø¦Û•Ù¾
                const waMsg = `Ø³ÚµØ§ÙˆØŒ Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ Ú¯Û†Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ ${fromVal} Ø¨Û† ${toVal} Ù… Ù†Ø§Ø±Ø¯ Ø¨Û† ØªÛÙ„ÛŒÚ¯Ø±Ø§Ù….`;
                const waLink = `https://wa.me/9647510074008?text=${encodeURIComponent(waMsg)}`;

                // Ú¯Û†Ú•ÛŒÙ†ÛŒ Ù„Ø§Ù¾Û•Ú•Û• Ø¨Û† ÙˆØ§ØªØ³Ø¦Û•Ù¾ (Ø¦Û•Ù…Û• Ø¨Ø§Ø´ØªØ±ÛŒÙ† Ú•ÛÚ¯Û•ÛŒÛ• Ø¨Û† Ù…Û†Ø¨Ø§ÛŒÙ„)
                window.location.href = waLink;

                // Ù¾Ø§Ú©Ú©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ ÙÛ†Ø±Ù…Û•Ú©Û• Ø¨Û† Ø¦Û•ÙˆÛ•ÛŒ Ø¦Û•Ú¯Û•Ø± Ú¯Û•Ú•Ø§ÛŒÛ•ÙˆÛ• Ù¾Ø§Ú© Ø¨ÛØª
                setTimeout(() => {
                    document.getElementById('amt').value = "";
                    document.getElementById('userPhone').value = "";
                    document.getElementById('imageInput').value = "";
                    document.getElementById('imagePreview').style.display = "none";
                    document.getElementById('total').innerText = "0 Ø¯ÛŒÙ†Ø§Ø±";
                    document.getElementById('fileLabel').innerText = "ğŸ“ Ù‡Û•ÚµØ¨Ú˜Ø§Ø±Ø¯Ù†ÛŒ ÙˆÛÙ†Û•";
                    btn.disabled = false;
                    btn.innerText = "Ù†Ø§Ø±Ø¯Ù†ÛŒ Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ";
                }, 2000);
            }

        } catch (err) {
            alert("Ú©ÛØ´Û•ÛŒÛ•Ú© Ù„Û• Ù†Ø§Ø±Ø¯Ù† Ù‡Û•ÛŒÛ•ØŒ ØªÚ©Ø§ÛŒÛ• Ø¦ÛŒÙ†ØªÛ•Ø±Ù†ÛØªÛ•Ú©Û•Øª Ø¨Ù¾Ø´Ú©Ù†Û•");
            btn.disabled = false;
            btn.innerText = "Ù†Ø§Ø±Ø¯Ù†ÛŒ Ø¯Ø§ÙˆØ§Ú©Ø§Ø±ÛŒ";
        }
    }
