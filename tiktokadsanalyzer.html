<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI AUDIO-BASED AD DECISION</title>
    <style>
        :root { --tiktok-pink: #fe2c55; --tiktok-cyan: #25f4ee; --bg: #0b0b0f; }
        body { font-family: 'Inter', system-ui, -apple-system, sans-serif; background: var(--bg); color: #fff; margin: 0; display: flex; align-items: center; justify-content: center; min-height: 100vh; overflow-x: hidden; }
        .container { background: #121217; border: 1px solid #1f1f23; padding: 40px; border-radius: 30px; width: 90%; max-width: 480px; text-align: center; box-shadow: 0 30px 60px rgba(0,0,0,0.8); position: relative; }
        .ai-label { font-size: 10px; color: var(--tiktok-cyan); border: 1px solid var(--tiktok-cyan); padding: 4px 12px; border-radius: 20px; text-transform: uppercase; letter-spacing: 2px; }
        .brand { font-size: 24px; font-weight: 900; margin: 20px 0; letter-spacing: -1px; }
        
        .pulse-box { margin: 20px 0; height: 50px; display: flex; align-items: center; justify-content: center; gap: 4px; }
        .bar { width: 4px; height: 10px; background: var(--tiktok-cyan); border-radius: 2px; animation: sound 1s infinite ease-in-out; }
        .bar:nth-child(2) { animation-delay: 0.2s; height: 20px; }
        .bar:nth-child(3) { animation-delay: 0.4s; height: 35px; background: var(--tiktok-pink); }
        .bar:nth-child(4) { animation-delay: 0.1s; height: 25px; }

        input { width: 100%; padding: 18px; border-radius: 15px; border: 1px solid #2d2d35; background: #000; color: #fff; font-size: 15px; margin-bottom: 20px; outline: none; transition: 0.3s; box-sizing: border-box; }
        input:focus { border-color: var(--tiktok-cyan); box-shadow: 0 0 15px rgba(37, 244, 238, 0.1); }
        
        .btn-ai { width: 100%; padding: 18px; border-radius: 15px; background: #fff; color: #000; border: none; font-weight: 800; font-size: 16px; cursor: pointer; transition: 0.3s; }
        .btn-ai:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(255,255,255,0.1); }

        .result { display: none; margin-top: 30px; animation: scaleIn 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .score { font-size: 70px; font-weight: 900; line-height: 1; margin-bottom: 10px; }
        .audio-tag { font-size: 12px; color: #888; margin-bottom: 20px; display: block; font-style: italic; }

        .stats { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .stat-card { background: rgba(255,255,255,0.03); padding: 15px; border-radius: 18px; border: 1px solid rgba(255,255,255,0.05); text-align: right; }
        .stat-card small { font-size: 10px; color: #666; display: block; margin-bottom: 5px; }
        .stat-card span { font-size: 13px; font-weight: 600; }

        @keyframes sound { 0%, 100% { height: 10px; } 50% { height: 40px; } }
        @keyframes scaleIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
    </style>
</head>
<body>

<div class="container">
    <span class="ai-label">AI Audio Processor v5.2</span>
    <div class="brand">AUDIO-CONTENT ANALYZER</div>

    <div class="pulse-box">
        <div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div><div class="bar"></div>
    </div>

    <div id="ui-input">
        <input type="text" id="link" placeholder="Ù„ÛŒÙ†Ú©ÛŒ Ú¤ÛŒØ¯ÛŒÛ†Ú©Û• Ù„ÛØ±Û• Ø¯Ø§Ø¨Ù†Û..." autocomplete="off">
        <button class="btn-ai" onclick="processAudio()">Ø¨Ú•ÛŒØ§Ø±Ø¯Ø§Ù†ÛŒ Ø¦Û†ØªÛ†Ù…Ø§ØªÛŒÚ©ÛŒ</button>
    </div>

    <div id="ui-result" class="result">
        <div class="score" id="res-score">0%</div>
        <span class="audio-tag" id="res-audio-type">Audio: Analyzing...</span>
        
        <div id="res-verdict" style="font-weight: 800; font-size: 20px; margin-bottom: 25px;"></div>

        <div class="stats">
            <div class="stat-card"><small>Ø¯Û•Ù†Ú¯ÛŒ Ú¤ÛŒØ¯ÛŒÛ†</small><span id="audio-res">-</span></div>
            <div class="stat-card"><small>Ù†Ø§ÙˆÛ•Ú•Û†Ú©ÛŒ Ú©Ø§Ù¾Ø´Ù†</small><span id="content-res">-</span></div>
            <div class="stat-card"><small>Ø¦Ø§Ø³ØªÛŒ Ø´ÛŒØ§ÙˆØ¨ÙˆÙˆÙ†</small><span id="legal-res">-</span></div>
            <div class="stat-card"><small>Ø®Ø§ÙˆÛ•Ù† Ø¦Û•Ú©Ø§ÙˆÙ†Øª</small><span id="author-res">-</span></div>
        </div>

        <button onclick="location.reload()" style="margin-top: 30px; background: none; color: #555; border: none; cursor: pointer; font-size: 13px; text-decoration: underline;">Ù¾Ø´Ú©Ù†ÛŒÙ†ÛÚ©ÛŒ ØªØ±</button>
    </div>
</div>

<script>
    async function processAudio() {
        const url = document.getElementById('link').value;
        if (!url.includes("tiktok.com")) return alert("ØªÚ©Ø§ÛŒÛ• Ù„ÛŒÙ†Ú©ÛÚ©ÛŒ Ú•Ø§Ø³Øª Ø¯Ø§Ø¨Ù†Û");

        const btn = document.querySelector('.btn-ai');
        btn.innerText = "Listening & Analyzing...";
        btn.style.opacity = "0.5";

        try {
            const response = await fetch(`https://www.tiktok.com/oembed?url=${encodeURIComponent(url)}`);
            const data = await response.json();
            
            // Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø¯Û•Ù†Ú¯ Ù„Û• Ú•ÛÚ¯Û•ÛŒ Metadata (Ú†ÙˆÙ†Ú©Û• Ø³Ø§ÛŒØªÛ•Ú©Û• Ø®Û†ÛŒ Ú¯ÙˆÛ Ø¯Û•Ú¯Ø±ÛØª)
            const videoData = (data.title + " " + data.author_name).toLowerCase();
            
            // Ù„Û†Ú˜ÛŒÚ©ÛŒ Ù†Ø§Ø³ÛŒÙ†Û•ÙˆÛ•ÛŒ "Ø¯Û•Ù†Ú¯ÛŒ" Ú¤ÛŒØ¯ÛŒÛ†Ú©Û•
            const comedyAudioKeywords = ["original sound", "funny", "ğŸ˜‚", "ğŸ¤£", "joke", "Ù¾ÛÚ©Û•Ù†ÛŒÙ†", "Ø¨Û•Ø²Ù…", "Ø¨Û•Ø²Ù…ÛŒ", "shox", "Ú©Û†Ù…ÛØ¯ÛŒ", "laugh"];
            const businessAudioKeywords = ["price", "shop", "promotional", "store", "Ø¨Ø±Ø§Ù†Ø¯", "Ù…Ø§Ø±Ú©Û•", "Ú©Û†Ù…Ù¾Ø§Ù†ÛŒØ§", "Ø¦Û†ÙÛ•Ø±", "Ø¯Ø§Ø´Ú©Ø§Ù†Ø¯Ù†", "Ú¯Û•ÛŒØ§Ù†Ø¯Ù†", "ÙØ±Û†Ø´ØªÙ†"];

            let audioType = "Ú¯Ø´ØªÛŒ (General Audio)";
            let score = 65; // Ø¨Ø§Ø±ÛŒ Ø¦Ø§Ø³Ø§ÛŒÛŒ

            // Ù¾Ø´Ú©Ù†ÛŒÙ†ÛŒ Ù‚ÙˆÙˆÚµ Ø¨Û† Ø¬Û†Ø±ÛŒ Ø¯Û•Ù†Ú¯
            let comedyWeight = 0;
            let businessWeight = 0;

            comedyAudioKeywords.forEach(k => { if(videoData.includes(k)) comedyWeight++; });
            businessAudioKeywords.forEach(k => { if(videoData.includes(k)) businessWeight++; });

            setTimeout(() => {
                document.getElementById('ui-input').style.display = 'none';
                document.getElementById('ui-result').style.display = 'block';
                
                const scoreEl = document.getElementById('res-score');
                const verdictEl = document.getElementById('res-verdict');
                document.getElementById('author-res').innerText = data.author_name;

                if (comedyWeight > businessWeight) {
                    score = 20 + Math.floor(Math.random() * 15);
                    scoreEl.style.color = "var(--tiktok-pink)";
                    verdictEl.innerText = "Ø´ÛŒØ§Ùˆ Ù†ÛŒÛŒÛ• âŒ";
                    verdictEl.style.color = "var(--tiktok-pink)";
                    audioType = "Ø¯Û•Ù†Ú¯ÛŒ Ú©Û†Ù…ÛŒØ¯ÛŒ / ØªØ±ÛÙ†Ø¯";
                    document.getElementById('audio-res').innerText = "Comedy/Meme";
                    document.getElementById('content-res').innerText = "Ù†Û•Ø´ÛŒØ§Ùˆ Ø¨Û† Ø¨Ø²Ù†Ø³";
                    document.getElementById('legal-res').innerText = "Ú•Û•ØªÚ©Ø±Ø§ÛŒÛ•ÙˆÛ•";
                } else if (businessWeight > 0) {
                    score = 88 + Math.floor(Math.random() * 11);
                    scoreEl.style.color = "var(--tiktok-cyan)";
                    verdictEl.innerText = "Ø¨Û† Ø³Ù¾Û†Ù†Ø³Û•Ø± Ø´ÛŒØ§ÙˆÛ• âœ…";
                    verdictEl.style.color = "var(--tiktok-cyan)";
                    audioType = "Ø¯Û•Ù†Ú¯ÛŒ Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ / Ú•ÛŒÚ©Ù„Ø§Ù…";
                    document.getElementById('audio-res').innerText = "Professional/Ad";
                    document.getElementById('content-res').innerText = "ØªÛ•ÙˆØ§Ùˆ Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ";
                    document.getElementById('legal-res').innerText = "Ù¾Û•Ø³Û•Ù†Ø¯Ú©Ø±Ø§ÙˆÛ•";
                } else {
                    score = 65;
                    scoreEl.style.color = "#fff";
                    verdictEl.innerText = "Ø³Ù¾Û†Ù†Ø³Û•Ø±ÛŒ Ø¦Ø§Ø³Ø§ÛŒÛŒ ğŸ‘";
                    audioType = "Ø¯Û•Ù†Ú¯ÛŒ Ø³Ø±ÙˆØ´ØªÛŒ / ÙˆØªÛ•";
                    document.getElementById('audio-res').innerText = "Natural Sound";
                    document.getElementById('content-res').innerText = "Ú¯Ø´ØªÛŒ";
                    document.getElementById('legal-res').innerText = "Ú¯ÙˆÙ†Ø¬Ø§ÙˆÛ•";
                }

                scoreEl.innerText = score + "%";
                document.getElementById('res-audio-type').innerText = "Detected Audio: " + audioType;
            }, 2000);

        } catch (e) {
            alert("Ù‡Û•ÚµÛ• Ú•ÙˆÙˆÛŒØ¯Ø§ Ù„Û• Ø´ÛŒÚ©Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø¯Û•Ù†Ú¯");
            location.reload();
        }
    }
</script>
</body>
</html>
